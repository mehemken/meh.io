<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/static/images/Favicon.ico">
    <link rel="icon" href="/static/images/Favicon.ico">

    <title>mehemken.io</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Raleway|Stardos+Stencil" rel="stylesheet"> 

    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css " rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/css/sticky-footer-navbar.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/static/css/custom.css " rel="stylesheet">

    <!-- Pygments -->
    <link rel="stylesheet" href="/static/css/pygments.css">

  </head>

  <body>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">mehemken.io</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/about/">About</a></li>
              <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">More stuff<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li class="dropdown-header">Professional</li>
                <li><a href="https://www.linkedin.com/in/mehemken">LinkedIn</a></li>
                <li><a href="https://github.com/mehemken">GitHub</a></li>
                <li><a href="http://stackoverflow.com/cv/mehemken">StackOverflow CV</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Social</li>
                <li><a href="https://twitter.com/mehemken">Twitter</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <!-- Begin page content -->
    <div class="container">
        <div class="row">
	    <div class="col-xs-8 col-sm-8 col-lg-8">

    <h1>Getting Started with Ansible on AWS</h1>
    <p class="lead">21 June 2017</p>
    <p><a href="None" target="blank" class="btn btn-primary" role="button"><span class="glyphicon glyphicon-thumbs-up"></span> Comment on twitter!</a></p>
    <hr>
    <h2>The sandbox</h2>
<p>I've created a sandbox environment to learn Ansible on. Many tutorials out there will deploy a server for you that's already set up and ready to go. Not here. This sandbox will start you with the stock AWS Ubuntu 16.04 image for your control node and several Ubuntu/Redhat/Windows machines. Nothing will be preinstalled on them. We'll have to set up the control node ourselves. By the end of this tutorial you will have installed Ansible and issued some <code>ping</code> commands.</p>
<h2>Install Terraform</h2>
<p>Simple. Just a <code>wget</code> and <code>unzip</code>, then <code>ln -s</code> the binary to your <code>~/bin</code> and you're off. See the HashiCorp site for details.</p>
<h2>Network</h2>
<p>The servers are all within the same AWS Security Group. I've opened ports 80, 443, 22 and 5986. Port 80 is necessary for <code>sudo apt-get update</code>, 443 for the ansible ppa, 22 for shell access and 5986 for Windows remote access.</p>
<h2>Run the sandbox</h2>
<p><code>terraform apply</code></p>
<h2>Set up the control node</h2>
<p>Install ansible (as of June 21, 2017):</p>
<div class="codehilite"><pre><span></span>sudo apt-get install software-properties-common
sudo apt-add-repository ppa:ansible/ansible
sudo apt-get update
sudo apt-get install ansible
</pre></div>


<p>The control node will need the ssh key to access the rest of the nodes. Copy it from your local machine to the control node.</p>
<p>scp -i /path/to/key.pem /path/to/key.pem ubuntu@aws.control.node.publicip.com</p>
    <p><a href="None" target="blank" class="btn btn-primary" role="button"><span class="glyphicon glyphicon-thumbs-up"></span> Comment on twitter!</a></p>

	    </div>
            <div class="col-xs-4 col-sm-4 col-lg-4">
		

            </div>
	</div>
    </div>

    <footer class="footer">
      <div class="container">
	  <div class="row">
	      <p class="text-muted"><a href="/resume/"><span class="glyphicon glyphicon-copyright-mark"></span> M. Hemken 2017</a></p>
	  </div>
      </div>
    </footer>
  </body>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="/static/jquery/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
</html>